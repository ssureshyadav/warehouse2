<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="20">
<Class name="csp.addzone">
<ClassType/>
<Hidden>1</Hidden>
<Import>User</Import>
<Language>cache</Language>
<ProcedureBlock>0</ProcedureBlock>
<Super>%CSP.Page</Super>
<TimeCreated>62151,43369.955242</TimeCreated>

<Method name="OnPage">
<ClassMethod>1</ClassMethod>
<CodeMode>code</CodeMode>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Do ..OnPageCSPROOT()
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OnPageBODY">
<ClassMethod>1</ClassMethod>
<CodeMode>code</CodeMode>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Write "<body onkeypress=""ManageWindow()"">"
	Write !,(##class(%CSP.Response).HyperEventBody())
	Write !,"<Table width=100%>",!
	Write "<tr><td>Наименование</td><td>"
	Write "<input type=""text"" id=""Name"" name=""Name"">"
	Write "</td></tr>",!
	Write "<!--<tr><td>Требуется прорисовка</td><td><input style=""border:none"" type=""checkbox"" id=""Draw""></td></tr>-->"
	Write !,"<tr><td>Количество ячеек </td><td>"
	Write "<input type=""text"" id=""Quant"" value=1>"
	Write " нумерация с "
	Write "<input type=""text"" id=""sta"" value=1>"
	Write "</td></tr>",!
	Write "<tr><td>Пояснение</td><td>"
	Write "<TEXTAREA STYLE=""overflow:auto;border:solid 1 grey;"" ID=txtComments rows=3 cols=40>"
	Write "</TEXTAREA>"
	Write "</td>",!
	Write "<!--",!
	Write "<tr><td>Временное хранение</td><td><input type=checkbox id=tempstore></td>",!
	Write "<!--",!
	Write "<tr><td colspan=2>",!
	Write "<INPUT type=radio name=""rad"" CHECKED >маленький 1 (3981,3)",!
	Write "<INPUT type=radio name=""rad"" >маленький 2 (4516,8)",!
	Write "<INPUT type=radio name=""rad"" >большой (21840)",!
	Write "<INPUT type=radio name=""rad"" >не указывать",!
	Write "</td></tr>",!
	Write "-->"
	Write !,"<tr><td colspan=2 align=""center""><br>"
	Write !,"<span class=ButtonDiv ID="""" style=""cursor:hand;"" onmouseover=""this.className='ButtonDivHover'"" onmouseout=""this.className='ButtonDiv'"" onclick=""startFun();"" TITLE=""""><center>Да</center></span>"
	Write !,"<span class=ButtonDiv ID="""" style=""cursor:hand;"" onmouseover=""this.className='ButtonDivHover'"" onmouseout=""this.className='ButtonDiv'"" onclick=""window.close()"" TITLE=""""><center>Отмена</center></span>"
	Write "</td></tr>",!
	Write "</table>",!
	Write "</body>"
]]></Implementation>
</Method>

<Method name="OnPageCSPROOT">
<ClassMethod>1</ClassMethod>
<CodeMode>code</CodeMode>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[	Do ..OnPageHTML()
]]></Implementation>
</Method>

<Method name="OnPageHEAD">
<ClassMethod>1</ClassMethod>
<CodeMode>code</CodeMode>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Write "<head>"
	Write !,"<title>"_($G(%session.Data("systemname")))_"</title>",!
	Write "<script language=""jscript"" src=""common.js"">"
	Write "</script>"
	Write !,"<link href=""style.css"" type=text/css rel=stylesheet>"
	Write !,"<script language=""Jscript"">"
	Write !,"var args=window.dialogArguments.split("";"");",!
	Write "code=args[0];",!
	Write "sub=args[1];",!
	Write "function startFun(){",!
	Write "	if(!window.confirm(""Создать?""))return false;",!
	Write "	if(Name.value==""""){alert(""Не указано наименование"");return false;}",!
	Write "	//draw=Draw.checked;",!
	Write "	quant=Quant.value;",!
	Write "	name=Name.value;",!
	Write "	comment=txtComments.value;",!
	Write "	//var dd=0;",!
	Write "	//if(rad[0].checked)var dd=1;",!
	Write "	//if(rad[1].checked)var dd=2;",!
	Write "	//if(rad[2].checked)var dd=3;",!
	Write "	ok="_($case(%session.BrokerImplementation,1:"cspRunServerMethod",2:"cspHttpServerMethod",:"cspSelectServerMethod"))_"('"_(..Encrypt($listbuild("Store.Action.CreateLevel:csp.addzone"))_$select(%session.UseSessionCookie'=2:"&CSPCHD="_%session.CSPSessionCookie,1:""))_"',name,quant,code,sub,comment,"""",sta.value)",!
	Write "	if(ok!=1){alert(ok);}",!
	Write "	else{",!
	Write "		window.returnValue=1;",!
	Write "		window.close();}",!
	Write "}",!
	Write "</script>"
	Write !,(..HyperEventHead())
	Write !,"</head>"
]]></Implementation>
</Method>

<Method name="OnPageHTML">
<ClassMethod>1</ClassMethod>
<CodeMode>code</CodeMode>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Write "<html>"
	Write !
	Do ..OnPageHEAD()
	Write !
	Do ..OnPageBODY()
	Write !,"</html>"
]]></Implementation>
</Method>

<Parameter name="CSPFILE">
<Default>c:\cachesys\csp\sklad2\addZone.csp</Default>
</Parameter>

<Parameter name="CSPURL">
<Default>/csp/sklad2/addZone.csp</Default>
</Parameter>

<Parameter name="FileTimestamp">
<Default>60624,12588</Default>
</Parameter>
</Class>
</Export>
